# FIFO输出数据解析模块Spec

## 模块名称
fifo_data_resolu（纯组合逻辑模块）

## 功能描述
将从FIFO读取的140位输入数据解析为三部分：
1. 128位数据转换为格雷码（高位有效，低位补零）
2. 8位通道选择位（直接输出）
3. 16位数据长度位（由4位指示位计算获得）

## Verilog IO定义
```verilog
module fifo_data_resolu (
  input  [139:0] data_from_fifo,  // FIFO输入的140位数据
  output [127:0] data_gray,       // 格雷码转换后的128位数据
  output [7:0]   vld_ch,          // 8位通道选择位
  output [15:0]  data_count       // 16位数据长度位
);
```

## 数据格式规范
```
|  数据位 (128b)  | 通道位 (8b) | 长度位 (4b) |
|:---------------:|:----------:|:-----------:|
|    139 : 12     |  11 : 4    |   3 : 0     |
```

## 功能实现细节

### 1. 通道选择信号（vld_ch）
- 直接提取输入数据[11:4]位
- 无转换处理
- 计算公式：vld_ch = data_from_fifo[11:4]

### 2. 数据长度信号（data_count）
- 根据4位长度指示位生成
- 转换规则：  
  0000 (0) → 0  
  0001 (1) → 16  
  0010 (2) → 32  
  ...  
  1000 (8) → 128
- 计算公式：data_count = {12'b0, data_from_fifo[3:0], 4'b0} 

### 3. 数据格雷码转换（data_gray）
- 处理步骤：
  1. 获取有效数据：data_high = data_from_fifo[139:12]
  2. 根据data_count获取有效高位
  3. 将有效数据转格雷码：gray = data_high ^ (data_high >> 1)
  4. 低位补零至128位
- 示例：  
  当data_count=64时：  
  data_gray = {gray[127:64], 64'b0}

## 设计约束
- 纯组合逻辑实现
- 无时钟/复位信号
- 处理延迟：单周期组合逻辑延迟
- 长度指示位默认范围：0-8（其他值未定义）
